<div class="rankings-container">
  <div class="rankings-header">
    <h2 class="rankings-title">Asset Rankings</h2>
    <mat-button-toggle-group
      class="rankings-toggle"
      [value]="mode()"
      (change)="onModeChange($event.value)"
      appearance="legacy"
      exclusive
    >
      <mat-button-toggle value="contender">Contender</mat-button-toggle>
      <mat-button-toggle value="rebuilder">Rebuilder</mat-button-toggle>
    </mat-button-toggle-group>
  </div>
  <div *ngIf="loading(); else assetList" class="loading-indicator">
    Loading assets...
  </div>
  <ng-template #assetList>
    <div class="player-list">
      <ng-container *ngFor="let asset of pagedAssets(); let i = index">
        <app-player-card
          *ngIf="isPlayer(asset)"
          [player]="asset"
          [rank]="page() * pageSize + i + 1"
          [mode]="mode()">
        </app-player-card>
        <app-pick-card
          *ngIf="isPick(asset)"
          [pick]="asset"
          [rank]="page() * pageSize + i + 1">
        </app-pick-card>
      </ng-container>
    </div>
    <div class="pagination-controls">
      <button (click)="prevPage()" [disabled]="page() === 0">Prev</button>
      <span>Page {{ page() + 1 }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="page() >= totalPages - 1">Next</button>
    </div>
  </ng-template>
</div>
